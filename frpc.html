<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
	<script src="asset/js/jak.js"></script>
	<script src="asset/js/base64.js"></script>
	<script src="asset/js/frpc.js"></script>
</head>
<body>
<textarea id="input">https://en.mapy.cz/zakladni?x=14.5264837&y=50.1061459&z=15&source=pubt&id=15306198</textarea>
<button onClick="parseUrl();">parseUrl</button>
<script>
	function parseUrl() {
		try {
			const url = new URL(document.getElementById('input').textContent);
			const mapyCzPointId = parseInt(url.searchParams.get('id'))

			const frpcCall = JAK.FRPC.serializeCall('detail', ['pubt', mapyCzPointId]);
			const base64Request = JAK.Base64.btoa(frpcCall);
			alert(base64Request);
		} catch (error) {
			alert('Error while processing url: ' + error);
		}
	}
</script>


</body>
</html>